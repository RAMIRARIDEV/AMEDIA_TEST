@model TestCrud.Models.Users

@{
    ViewData["Title"] = "Inicio";
}

<!-- BEGIN LOGIN -->
<div class="content">
    <!-- BEGIN LOGIN FORM -->

    <section class="vh-100">

        <div class="container-fluid h-custom">
            <div class="row d-flex justify-content-center align-items-center h-100">
                <div class="col-md-9 col-lg-6 col-xl-5">
                    <img src="~/imgs/LogoAmedia.jfif"
                         class="img-fluid" alt="Sample image">
                </div>
                <div class="col-md-8 col-lg-6 col-xl-4 offset-xl-1">
                    @if (Model.ErrorExists)
                    {
                        <div class="bg-warning">
                            <label class="text-danger"> ¡Error al Ingresar! - @Model.msgError</label>

                        </div>
                        <p class="small fw-bold mt-2 pt-1 mb-0">
                            Intentar nuevamente <a href="../Index"
                                                   class="link-danger">Ingresar</a>
                        </p>
                    }
                    else if (!Model.Confirm && !Model.ErrorExists)
                    {
                    
                        <form method="post" id="formLogin" asp-controller="Home" asp-action="SignIn" defaultfocus="formEmail">

                            <!-- Email input -->
                            <div class="form-outline mb-4">
                                @Html.LabelFor(model => model.Email, "Usuario", htmlAttributes: new { @class = "form-label" })
                                @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control form-control-lg", data_type = "text", required = "required", placeholder = "Mail" } })
                            </div>

                            <!-- Password input -->
                            <div class="form-outline mb-3">
                                @Html.LabelFor(model => model.Password, "Contraseña", htmlAttributes: new { @class = "form-label" })
                                @Html.EditorFor(model => model.Password, new { htmlAttributes = new { @class = "form-control form-control-lg", data_type = "password", required = "required", placeholder = "Contraseña" } })
                            </div>

                            <!-- Profile input -->
                            <div class="form-outline mb-3">
                                @Html.LabelFor(model => model.Profile, "Tipo de usuario", htmlAttributes: new { @class = "form-label" })
                                @Html.DropDownListFor(model => model.Profile, new SelectList(Model.listProfiles, "Usersid", "Description"), htmlAttributes: new { @class = "form_select" })
                            </div>
                            <label class="text-danger" id="lblError"></label>
                            <div class="text-center text-lg-start mt-4 pt-2">
                                <button type="button" id="btnSignIn" class="btn btn-primary btn-lg"
                                        style="padding-left: 2.5rem; padding-right: 2.5rem;">
                                    Ingresar
                                </button>
                            </div>

                                <p class="small fw-bold mt-2 pt-1 mb-0">
                                    ¿Aún no te has registrado? <a href="../Home/Register"
                                                                  class="link-danger">Registrarse</a>
                                </p>
                        </form>
                    }
                    </div>
            </div>
        </div>
    </section>

    <!-- END LOGIN FORM -->

</div>
<!-- BEGIN LOGO -->
